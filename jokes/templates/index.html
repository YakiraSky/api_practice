<!DOCTYPE html>
<html>
<head>
    <title>🤡 Circus of Jokes 🤡</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #ff6b6b;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 60 60'%3E%3Cpath d='M30 0C13.432 0 0 13.432 0 30s13.432 30 30 30 30-13.432 30-30S46.568 0 30 0zm0 45c-8.284 0-15-6.716-15-15 0-8.284 6.716-15 15-15 8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15zm-5-15c-1.657 0-3-2.239-3-5s1.343-5 3-5 3 2.239 3 5-1.343 5-3 5zm10 0c-1.657 0-3-2.239-3-5s1.343-5 3-5 3 2.239 3 5-1.343 5-3 5zm-5 8c-4 0-7-1.119-7-2.5 0-1.381 3-2.5 7-2.5s7 1.119 7 2.5c0 1.381-3 2.5-7 2.5z' fill='rgba(255,255,255,0.1)'/%3E%3C/svg%3E");
            background-repeat: repeat;
            min-height: 100vh;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: white;
            overflow-x: hidden;
            position: relative;
        }
        .container {
            text-align: center;
            max-width: 600px;
            position: relative;
        }
        h1 {
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            font-size: 2.5em;
            margin-bottom: 30px;
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .floating-clown {
            position: fixed;
            font-size: 3em;
            pointer-events: none;
            animation: float-around 15s linear infinite;
            opacity: 0.7;
        }
        @keyframes float-around {
            0% { transform: translate(-100vw, 0) rotate(0deg); }
            100% { transform: translate(100vw, 0) rotate(360deg); }
        }
        button {
            background: linear-gradient(145deg, #ff6b6b, #ff4757);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 20px;
            border-radius: 25px;
            cursor: pointer;
            margin: 20px 0;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transform-style: preserve-3d;
        }
        button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            background: #8b5db9;
        }
        #joke-display {
            background: rgba(118, 75, 162, 0.9);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            backdrop-filter: blur(5px);
            display: none;
            animation: fade-in 0.5s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        #setup {
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        #punchline {
            font-size: 1.4em;
            color: #ffd700;
            font-weight: bold;
        }
        .dancing-clown {
            position: fixed;
            width: 64px;
            height: 64px;
            image-rendering: pixelated;
            z-index: -1;
            opacity: 0.5;
            pointer-events: none;
        }

        /* Add retro filter to make GIFs look more low-res */
        .retro {
            filter: contrast(150%) brightness(120%) saturate(80%);
            image-rendering: pixelated;
        }

        /* Add styles for corner clowns */
        .corner-clown {
            position: fixed;
            bottom: 20px;
            width: 120px;
            height: 120px;
            z-index: 1;
            pointer-events: none;
        }
        .corner-clown.left {
            left: 20px;
            animation: bounce-left 2s infinite;
        }
        .corner-clown.right {
            right: 20px;
            transform: scaleX(-1);
            animation: bounce-right 2s infinite;
        }
        @keyframes bounce-left {
            0%, 100% { transform: translateY(0) rotate(-5deg); }
            50% { transform: translateY(-10px) rotate(5deg); }
        }
        @keyframes bounce-right {
            0%, 100% { transform: translateY(0) rotate(5deg) scaleX(-1); }
            50% { transform: translateY(-10px) rotate(-5deg) scaleX(-1); }
        }
    </style>
</head>
<body>
    <div id="floating-clowns"></div>
    <div id="dancing-clowns"></div>
    <!-- Updated corner clowns with reliable GIF URLs -->
    <img src="https://media.tenor.com/dp_hQBGT7HMAAAAC/creepy-clown.gif" class="corner-clown left" alt="Dancing clown">
    <img src="https://media.tenor.com/N7xArUD2Az0AAAAC/clown-dancing.gif" class="corner-clown right" alt="Dancing clown">
    <div class="container">
        <h1>🤡 Circus of Laughs 🤡</h1>
        <button onclick="getJoke()">Tell me a joke! 🎪</button>
        <div id="joke-display">
            <p id="setup"></p>
            <p id="punchline"></p>
        </div>
    </div>

    <script>
        // Add floating clowns
        function addFloatingClowns() {
            const clowns = document.getElementById('floating-clowns');
            const emojis = ['🤡', '🎪', '🎭', '🎈', '🦁'];
            
            setInterval(() => {
                const clown = document.createElement('div');
                clown.className = 'floating-clown';
                clown.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                clown.style.top = `${Math.random() * 100}vh`;
                clowns.appendChild(clown);
                
                setTimeout(() => clown.remove(), 15000);
            }, 3000);
        }

        // Updated dancing clown GIFs with reliable sources
        function addDancingClowns() {
            const clownContainer = document.getElementById('dancing-clowns');
            const clownGifs = [
                'https://media.tenor.com/dp_hQBGT7HMAAAAC/creepy-clown.gif',
                'https://media.tenor.com/N7xArUD2Az0AAAAC/clown-dancing.gif',
                'https://media.tenor.com/YK-DEcrHJJwAAAAC/clown-dance.gif',
                'https://media.tenor.com/vVbeVu8OZhcAAAAC/pixel-clown.gif',
                'https://media.tenor.com/HXY0LwkE4IEAAAAC/happy-clown.gif'
            ];

            // Add dancing clowns at random positions
            for (let i = 0; i < 5; i++) {
                const clown = document.createElement('img');
                clown.className = 'dancing-clown retro';
                clown.src = clownGifs[i];
                clown.style.left = `${Math.random() * 90}vw`;
                clown.style.top = `${Math.random() * 90}vh`;
                clownContainer.appendChild(clown);
            }
        }

        // Update joke clown source
        function addJokeClown() {
            const clown = document.createElement('img');
            clown.className = 'dancing-clown retro';
            clown.src = 'https://media.tenor.com/dp_hQBGT7HMAAAAC/creepy-clown.gif';
            clown.style.left = '50%';
            clown.style.top = '50%';
            clown.style.transform = 'translate(-50%, -50%)';
            clown.style.opacity = '1';
            document.getElementById('dancing-clowns').appendChild(clown);
            setTimeout(() => clown.remove(), 3000);
        }

        function getJoke() {
            const display = document.getElementById('joke-display');
            const setup = document.getElementById('setup');
            const punchline = document.getElementById('punchline');
            
            fetch('https://official-joke-api.appspot.com/random_joke')
                .then(response => response.json())
                .then(data => {
                    setup.textContent = data.setup;
                    // Add a small delay before showing the punchline
                    punchline.textContent = '';
                    display.style.display = 'block';
                    setTimeout(() => {
                        punchline.textContent = data.punchline;
                    }, 2000);
                })
                .catch(error => {
                    console.error('Error:', error);
                    setup.textContent = 'Why did the joke fail to load?';
                    punchline.textContent = 'Because the server was not in a funny mood! 😅';
                    display.style.display = 'block';
                });

            // Add confetti effect when joke is delivered
            setTimeout(() => {
                const emoji = document.createElement('div');
                emoji.className = 'floating-clown';
                emoji.textContent = '🤹';
                emoji.style.top = '50vh';
                document.getElementById('floating-clowns').appendChild(emoji);
                setTimeout(() => emoji.remove(), 2000);
            }, 2000);

            // Add dancing clown after punchline
            setTimeout(addJokeClown, 2000);
        }

        addFloatingClowns();
        addDancingClowns();
    </script>
</body>
</html>
